<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.project.mapper.UserMapper">


    <select id="selectUserList" resultType="User">
        select user_id ,user_name,tel from t_sys_user where delete_flag = 0
    </select>

    <select id="getMenuList" resultType="Menu">
        SELECT name,parent_id as pid,perm_id as id,icon_cls ,path
        FROM t_sys_permission
        WHERE FIND_IN_SET(perm_id,(SELECT GROUP_CONCAT(permission_id) FROM t_role_permission WHERE role_id=#{roleId})) and delete_flag=0
    </select>
</mapper>